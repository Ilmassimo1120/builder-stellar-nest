# ChargeSource - Netlify Environment Variables Template
# Copy these variables to your Netlify Dashboard → Site Settings → Environment Variables

# =============================================================================
# REQUIRED VARIABLES (Must be set for deployment to work)
# =============================================================================

# Supabase Configuration (REQUIRED)
VITE_SUPABASE_URL=https://tepmkljodsifaexmrinl.supabase.co
VITE_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRlcG1rbGpvZHNpZmFleG1yaW5sIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ2MDQwMjUsImV4cCI6MjA3MDE4MDAyNX0.n4WdeHUHHc5PuJV8-2oDn826CoNxNzHHbt4KxeAhOYc

# Supabase Service Role (REQUIRED for server functions)
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRlcG1rbGpvZHNpZmFleG1yaW5sIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1NDYwNDAyNSwiZXhwIjoyMDcwMTgwMDI1fQ.CsWSKOjCNgP3OKPe9KMN5vvqHHhV-EwZ8q2DfS7o7zM
SUPABASE_ACCESS_TOKEN=sbp_6ac0bb14f8a36ef8ea8b2c58c59b4ac47a9b3062

# Build Environment (REQUIRED)
NODE_ENV=production
VITE_APP_ENVIRONMENT=production
NODE_VERSION=20

# =============================================================================
# OPTIONAL VARIABLES (Can be set for enhanced functionality)
# =============================================================================

# Google Maps Integration (Optional)
VITE_GOOGLE_MAPS_API_KEY=AIzaSyCyDVhsKDcSSlnOxfX2ahsURFzoiFIBArk

# Error Reporting (Optional)
VITE_SENTRY_DSN=
VITE_ENABLE_ERROR_REPORTING=false

# Analytics (Optional) 
VITE_ANALYTICS_ID=
VITE_ENABLE_ANALYTICS=false

# Feature Flags (Optional)
VITE_ENABLE_DEBUG=false

# Server Configuration (Optional)
PING_MESSAGE=ChargeSource API is running

# =============================================================================
# NETLIFY-SPECIFIC CONFIGURATION
# =============================================================================

# These are automatically set by Netlify, but can be overridden if needed:
# URL=https://your-site.netlify.app
# DEPLOY_URL=https://deploy-preview-123--your-site.netlify.app
# CONTEXT=production|deploy-preview|branch-deploy
# BRANCH=main|feature-branch
# COMMIT_REF=abc123def456...
# NETLIFY=true

# =============================================================================
# SETUP INSTRUCTIONS
# =============================================================================

# 1. Go to your Netlify Dashboard
# 2. Select your site
# 3. Go to Site Settings → Environment Variables
# 4. Click "Add a variable" for each required variable above
# 5. Copy the exact variable names and values
# 6. Deploy your site

# =============================================================================
# VALIDATION
# =============================================================================

# After setting environment variables, you can validate them by:
# 1. Triggering a new deployment
# 2. Checking the build logs for any environment variable errors
# 3. Testing the deployed site's functionality
# 4. Using the /ConnectionDiagnostics page to verify all connections

# =============================================================================
# SECURITY NOTES
# =============================================================================

# ⚠️ IMPORTANT SECURITY CONSIDERATIONS:
# 
# 1. VITE_ variables are PUBLIC and included in the client bundle
#    - Only put non-sensitive configuration in VITE_ variables
#    - API keys, secrets, and tokens should NOT use VITE_ prefix
#
# 2. Server-only variables (no VITE_ prefix) are only available to functions
#    - Use these for sensitive data like service role keys
#    - These are NOT exposed to the client
#
# 3. Never commit actual secrets to your repository
#    - This template file is safe to commit (placeholder values)
#    - Real values should only be set in Netlify Dashboard
#
# 4. Rotate keys periodically for security
#    - Supabase keys can be regenerated in the Supabase dashboard
#    - Update Netlify environment variables when keys change

# =============================================================================
# TROUBLESHOOTING
# =============================================================================

# Common issues and solutions:
#
# 1. "Missing environment variable" errors:
#    - Ensure all REQUIRED variables are set in Netlify
#    - Check for typos in variable names
#    - Redeploy after adding variables
#
# 2. Supabase connection issues:
#    - Verify VITE_SUPABASE_URL is correct
#    - Ensure VITE_SUPABASE_ANON_KEY is the anon key (not service role)
#    - Check Supabase project is active and not paused
#
# 3. Functions not working:
#    - Verify SUPABASE_SERVICE_ROLE_KEY is set (server-side only)
#    - Check function deployment in Netlify Functions tab
#    - Review function logs for errors
#
# 4. Build failures:
#    - Check NODE_VERSION matches package.json engines
#    - Verify all dependencies are in package.json
#    - Review build logs for specific error messages

# =============================================================================
# MONITORING
# =============================================================================

# Monitor your deployment:
# 1. Netlify Build logs: Track deployment success/failures
# 2. Function logs: Monitor serverless function execution
# 3. Analytics: Track site performance and usage
# 4. Error reporting: Monitor runtime errors (if Sentry is configured)
